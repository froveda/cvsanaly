(function(){$(document).on("rails_admin.dom_ready",function(){var t,e,n,i,o,r,s,a=this;return $("form").length&&($("form [data-color]").each(function(){var t;return t=this,$(this).ColorPicker({color:$(t).val(),onShow:function(t){return $(t).fadeIn(500),!1},onHide:function(t){return $(t).fadeOut(500),!1},onChange:function(e,n){return $(t).val(n),$(t).css("backgroundColor","#"+n)}})}),$("form [data-datetimepicker]").each(function(){return $(this).datetimepicker($(this).data("options"))}),$("form [data-enumeration]").each(function(){return $(this).is("[multiple]")?$(this).filteringMultiselect($(this).data("options")):$(this).filteringSelect($(this).data("options"))}),$("form [data-fileupload]").each(function(){var t;return t=this,$(this).on("click",".delete input[type='checkbox']",function(){return $(t).children(".toggle").toggle("slow")})}),$("form [data-fileupload]").change(function(){var t,e,n,i;return n=this,e=$("#"+n.id).parent().children(".preview"),e.length||(e=$("#"+n.id).parent().prepend($("<img />").addClass("preview")).find("img.preview"),e.parent().find("img:not(.preview)").hide()),t=$("#"+n.id).val().split(".").pop().toLowerCase(),n.files&&n.files[0]&&-1!==$.inArray(t,["gif","png","jpg","jpeg","bmp"])?(i=new FileReader,i.onload=function(t){return e.attr("src",t.target.result)},i.readAsDataURL(n.files[0]),e.show()):e.hide()}),$("form [data-filteringmultiselect]").each(function(){return $(this).filteringMultiselect($(this).data("options")),$(this).parents("#modal").length?$(this).parents(".control-group").find(".btn").remove():$(this).parents(".control-group").first().remoteForm()}),$("form [data-filteringselect]").each(function(){return $(this).filteringSelect($(this).data("options")),$(this).parents("#modal").length?$(this).parents(".control-group").find(".btn").remove():$(this).parents(".control-group").first().remoteForm()}),$("form [data-nestedmany]").each(function(){var t,e,n,i;return e=$(this).parents(".control-group").first(),n=e.find("> .controls > .nav"),t=e.find("> .tab-content"),i=e.find("> .controls > .btn-group > .toggler"),t.children(".fields:not(.tab-pane)").addClass("tab-pane").each(function(){return $(this).attr("id","unique-id-"+(new Date).getTime()+Math.floor(1e5*Math.random())),n.append('<li><a data-toggle="tab" href="#'+this.id+'">'+$(this).children(".object-infos").data("object-label")+"</a></li>")}),0===n.find("> li.active").length&&n.find("> li > a[data-toggle='tab']:first").tab("show"),0===n.children().length?(n.hide(),t.hide(),i.addClass("disabled").removeClass("active").children("i").addClass("icon-chevron-right")):i.hasClass("active")?(n.show(),t.show(),i.children("i").addClass("icon-chevron-down")):(n.hide(),t.hide(),i.children("i").addClass("icon-chevron-right"))}),$("form [data-nestedone]").each(function(){var t,e,n,i,o;return e=$(this).parents(".control-group").first(),i=e.find("> .controls > .nav"),t=e.find("> .tab-content"),o=e.find("> .controls > .toggler"),t.children(".fields:not(.tab-pane)").addClass("tab-pane active").each(function(){return i.append('<li><a data-toggle="tab" href="#'+this.id+'">'+$(this).children(".object-infos").data("object-label")+"</a></li>")}),n=i.find("> li > a[data-toggle='tab']:first"),n.tab("show"),e.find("> .controls > [data-target]:first").html('<i class="icon-white"></i> '+n.html()),o.hasClass("active")?(o.children("i").addClass("icon-chevron-down"),t.show()):(o.children("i").addClass("icon-chevron-right"),t.hide())}),$("form [data-polymorphic]").each(function(){var t,e,n,i;return n=$(this),t=n.parents(".control-group").first(),e=t.find("select").last(),i=n.data("urls"),n.on("change",function(){return""===$(this).val()?e.html('<option value=""></option>'):$.ajax({url:i[n.val()],data:{compact:!0,all:!0},beforeSend:function(t){return t.setRequestHeader("Accept","application/json")},success:function(t){var n;return n="<option></option>",$(t).each(function(t,e){return n+='<option value="'+e.id+'">'+e.label+"</option>"}),e.html(n)}})})}),o=function(){return $("form [data-richtext=ckeditor]").not(".ckeditored").each(function(){var t;try{(t=window.CKEDITOR.instances[this.id])&&t.destroy(!0)}catch(e){}return window.CKEDITOR.replace(this,$(this).data("options")),$(this).addClass("ckeditored")})},t=$("form [data-richtext=ckeditor]").not(".ckeditored"),t.length&&(window.CKEDITOR?o():(s=t.first().data("options"),window.CKEDITOR_BASEPATH=s.base_location,$.getScript(s.jspath,function(){return o()}))),r=function(t){return t.each(function(){var t;return s=$(this).data("options"),t=this,$.getScript(s.locations.mode,function(){return $("head").append('<link href="'+s.locations.theme+'" rel="stylesheet" media="all" type="text/css">'),CodeMirror.fromTextArea(t,{mode:s.options.mode,theme:s.options.theme}),$(t).addClass("codemirrored")})})},e=$("form [data-richtext=codemirror]").not(".codemirrored"),e.length&&(this.array=e,window.CodeMirror?r(this.array):(s=$(e[0]).data("options"),$("head").append('<link href="'+s.csspath+'" rel="stylesheet" media="all" type="text/css">'),$.getScript(s.jspath,function(){return r(a.array)}))),i=function(t,e){return t.each(function(){return $(this).addClass("bootstrap-wysihtml5ed"),$(this).closest(".controls").addClass("well"),$(this).wysihtml5(e)})},e=$("form [data-richtext=bootstrap-wysihtml5]").not(".bootstrap-wysihtml5ed"),e.length)?(this.array=e,s=$(e[0]).data("options"),n=$.parseJSON(s.config_options),window.wysihtml5?i(this.array,n):($("head").append('<link href="'+s.csspath+'" rel="stylesheet" media="all" type="text/css">'),$.getScript(s.jspath,function(){return i(a.array,n)}))):void 0})}).call(this);